Простая реализация числового счетчика. 

Пожжердивается 

* одиночный файл (однопоточный вариант)
* мультифайловый счетчик (многопоточный вариант)
* Redis счетчик

как оказалось, счетчик расположеннный даже в файле чтение которого возможно всего в один поток, по отказоустойчивости почти не уступает варианту на Redis. (Тестировалось на SSD) В итоге был сделан вывод что скорее ляжет Nginx+php-fpm чем скорость чтения и записи файла окажет хоть какое-то влияние на процесс.    